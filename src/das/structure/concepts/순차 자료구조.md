# 순차 자료구조 (Sequential Data Structure)

데이터를 메모리에 연속적으로 저장하는 가장 기본적인 구조다. 
대표적:
- C언어의 배열(Array)
- 파이썬의 리스트(List)

## 1. 배열의 핵심 원리: 빠른 접근 (Random Access)

배열이 데이터를 읽고 쓰는 속도가 엄청나게 빠른 이유(상수 시간, $O(1)$)는 주소 계산이 가능하기 때문이다.

- 원리: 데이터가 연속된 메모리에 위치하므로, 시작 주소만 알면 어디든 즉시 찾아갈 수 있음.
- 공식: `찾는 주소 = 시작 주소 + (인덱스 × 데이터 크기)`
    - 예시: `int`형(4byte) 배열의 시작 주소가 `100`번지라면?
    - `A[2]`의 주소 = `100 + (2 × 4)` = `108`번지. (계산 한 번에 바로 도착!)

## 2. C언어 배열 vs 파이썬 리스트

### A. C언어의 배열 (Static Array)
- 특징: 만들 때 크기를 정해야 함 (`int a[4]`). 크기 변경 불가능. (고정 크기)
- 구조: 메모리에 실제 값(Value)들이 빽빽하게 들어있음.
- 한계: 꽉 찼는데 더 넣으려면? 에러 남. 개발자가 직접 더 큰 배열을 만들고 이사시켜야 함. (malloc)

### B. 파이썬의 리스트 (Dynamic Array)
- 특징: 크기가 고정되어 있지 않음. 막 넣어도 알아서 늘어남. (가변 크기)
- 구조:
    - 메모리에 참조(주소값)들이 연속으로 저장됨. (간접 참조)
    - `A[2] = 1`을 하면, 원래 있던 값을 덮어쓰는 게 아니라, `1`이라는 객체가 있는 주소를 새로 가리키게 됨. 
- 편의성: C언어에서 개발자가 해야 할 메모리 관리(동적 배열의 크기 증가 메커니즘; Resizing)를 파이썬이 대신 해줌.

## 3. 리스트의 연산과 비용 (Cost)

파이썬 리스트가 편하지만, 내부적으로는 비용이 존재한다. 

### 1) 맨 뒤에 추가/삭제 (`append`, `pop`)
*   리스트의 끝에서 작업하므로 다른 데이터들을 건드릴 필요가 없음.
*   매우 빠름 ($O(1)$).

### 2) 중간에 삽입/삭제 (`insert`, `pop(i)`, `remove`)
*   중간에 끼워 넣거나 빼면, 그 뒤에 있는 데이터들의 인덱스가 꼬임.
*   빈자리를 만들거나 채우기 위해 뒤쪽 데이터들을 한 칸씩 밀거나 당겨야 함 (Shifting).
*   데이터가 많을수록 느려짐 ($O(N)$).

## 4. [핵심] 파이썬 리스트는 어떻게 자동으로 늘어날까?

파이썬 리스트는 내부적으로 두 가지 정보를 관리한다.
1.  Capacity (용량): 현재 할당된 메모리 공간의 크기 (방 개수)
2.  N (크기): 실제 들어있는 데이터의 개수

### 자동 크기 조절 (Resizing) 알고리즘
데이터를 추가(`append`)할 때 다음과 같은 로직이 실행됩니다.

```python
# (개념적인 수도코드)
def append(x):
    if n < capacity:
        # 1. 방이 남았으면 그냥 넣는다. (빠름)
        A[n] = x
        n = n + 1
    else:
        # 2. 방이 꽉 찼으면? (n == capacity)
        # 2-1. 2배 더 큰 새 배열(B)을 만든다.
        B = new Array(capacity * 2) 
        
        # 2-2. 기존 A에 있던 짐(데이터)을 B로 다 옮긴다. (오래 걸림. 이사 비용 발생)
        for i in range(n):
            B[i] = A[i]
            
        # 2-3. 기존 A를 버리고 B를 A로 쓴다.
        del A
        A = B
        
        # 2-4. 이제 빈 공간이 생겼으니 데이터를 넣는다.
        A[n] = x
        n = n + 1
```

### 요약
1.  C언어 배열: 빠르지만 크기가 고정됨. 꽉 차면 답 없음.
2.  파이썬 리스트: 편하고 유연함. 꽉 차면 알아서 2배 큰 방으로 이사(Resizing)감.
3.  중간에 삽입(`insert`)하거나 삭제(`remove`)하면 뒤에 있는 애들이 다 이동해야 해서 느리다.

**이번 강의 핵심**: 스택 들어가기 전에 배열의 동작 원리와 파이썬 리스트의 내부 구현에 대한 해설
